var pyinstrumentHTMLRenderer=function(){"use strict";var dt=Object.defineProperty;var pt=(O,E,H)=>E in O?dt(O,E,{enumerable:!0,configurable:!0,writable:!0,value:H}):O[E]=H;var k=(O,E,H)=>(pt(O,typeof E!="symbol"?E+"":E,H),H);const O="";function E(){}function H(t){return t()}function ke(){return Object.create(null)}function G(t){t.forEach(H)}function ye(t){return typeof t=="function"}function W(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ie(t){return Object.keys(t).length===0}function Re(t,...e){if(t==null)return E;const i=t.subscribe(...e);return i.unsubscribe?()=>i.unsubscribe():i}function se(t,e,i){t.$$.on_destroy.push(Re(e,i))}function f(t,e){t.appendChild(e)}function X(t,e,i){t.insertBefore(e,i||null)}function N(t){t.parentNode&&t.parentNode.removeChild(t)}function v(t){return document.createElement(t)}function Ce(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function L(t){return document.createTextNode(t)}function w(){return L(" ")}function Ee(){return L("")}function V(t,e,i,n){return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)}function ae(t){return function(e){return e.preventDefault(),t.call(this,e)}}function ue(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function p(t,e,i){i==null?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function Oe(t){return Array.from(t.childNodes)}function q(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function F(t,e,i,n){i===null?t.style.removeProperty(e):t.style.setProperty(e,i,n?"important":"")}function Q(t,e,i){t.classList[i?"add":"remove"](e)}let Z;function Y(t){Z=t}function Te(){if(!Z)throw new Error("Function called outside component initialization");return Z}function qe(t){Te().$$.on_mount.push(t)}function Ue(t){Te().$$.on_destroy.push(t)}function Ve(t,e){const i=t.$$.callbacks[e.type];i&&i.slice().forEach(n=>n.call(this,e))}const J=[],Fe=[],j=[],Se=[],Ze=Promise.resolve();let fe=!1;function Ye(){fe||(fe=!0,Ze.then($e))}function ce(t){j.push(t)}const de=new Set;let x=0;function $e(){const t=Z;do{for(;x<J.length;){const e=J[x];x++,Y(e),Je(e.$$)}for(Y(null),J.length=0,x=0;Fe.length;)Fe.pop()();for(let e=0;e<j.length;e+=1){const i=j[e];de.has(i)||(de.add(i),i())}j.length=0}while(J.length);for(;Se.length;)Se.pop()();fe=!1,de.clear(),Y(t)}function Je(t){if(t.fragment!==null){t.update(),G(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ce)}}const ee=new Set;let I;function pe(){I={r:0,c:[],p:I}}function me(){I.r||G(I.c),I=I.p}function M(t,e){t&&t.i&&(ee.delete(t),t.i(e))}function z(t,e,i,n){if(t&&t.o){if(ee.has(t))return;ee.add(t),I.c.push(()=>{ee.delete(t),n&&(i&&t.d(1),n())}),t.o(e)}else n&&n()}function Ke(t,e){z(t,1,1,()=>{e.delete(t.key)})}function We(t,e,i,n,s,u,l,o,a,r,m,h){let d=t.length,_=u.length,A=d;const b={};for(;A--;)b[t[A].key]=A;const S=[],g=new Map,c=new Map;for(A=_;A--;){const C=h(s,u,A),$=i(C);let P=l.get($);P?n&&P.p(C,e):(P=r($,C),P.c()),g.set($,S[A]=P),$ in b&&c.set($,Math.abs(A-b[$]))}const T=new Set,D=new Set;function y(C){M(C,1),C.m(o,m),l.set(C.key,C),m=C.first,_--}for(;d&&_;){const C=S[_-1],$=t[d-1],P=C.key,B=$.key;C===$?(m=C.first,d--,_--):g.has(B)?!l.has(P)||T.has(P)?y(C):D.has(B)?d--:c.get(P)>c.get(B)?(D.add(P),y(C)):(T.add(B),d--):(a($,l),d--)}for(;d--;){const C=t[d];g.has(C.key)||a(C,l)}for(;_;)y(S[_-1]);return S}function he(t){t&&t.c()}function te(t,e,i,n){const{fragment:s,after_update:u}=t.$$;s&&s.m(e,i),n||ce(()=>{const l=t.$$.on_mount.map(H).filter(ye);t.$$.on_destroy?t.$$.on_destroy.push(...l):G(l),t.$$.on_mount=[]}),u.forEach(ce)}function ie(t,e){const i=t.$$;i.fragment!==null&&(G(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function je(t,e){t.$$.dirty[0]===-1&&(J.push(t),Ye(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ge(t,e,i,n,s,u,l,o=[-1]){const a=Z;Y(t);const r=t.$$={fragment:null,ctx:[],props:u,update:E,not_equal:s,bound:ke(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:ke(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};l&&l(r.root);let m=!1;if(r.ctx=i?i(t,e.props||{},(h,d,..._)=>{const A=_.length?_[0]:d;return r.ctx&&s(r.ctx[h],r.ctx[h]=A)&&(!r.skip_bound&&r.bound[h]&&r.bound[h](A),m&&je(t,h)),d}):[],r.update(),m=!0,G(r.before_update),r.fragment=n?n(r.ctx):!1,e.target){if(e.hydrate){const h=Oe(e.target);r.fragment&&r.fragment.l(h),h.forEach(N)}else r.fragment&&r.fragment.c();e.intro&&M(t.$$.fragment),te(t,e.target,e.anchor,e.customElement),$e()}Y(a)}class _e{$destroy(){ie(this,1),this.$destroy=E}$on(e,i){if(!ye(i))return E;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(i),()=>{const s=n.indexOf(i);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Ie(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const U=[];function Pe(t,e=E){let i;const n=new Set;function s(o){if(W(t,o)&&(t=o,i)){const a=!U.length;for(const r of n)r[1](),U.push(r,t);if(a){for(let r=0;r<U.length;r+=2)U[r][0](U[r+1]);U.length=0}}}function u(o){s(o(t))}function l(o,a=E){const r=[o,a];return n.add(r),n.size===1&&(i=e(s)||E),o(t),()=>{n.delete(r),n.size===0&&(i(),i=null)}}return{set:s,update:u,subscribe:l}}const De=Pe({}),ne=Pe("absolute"),mt="";function xe(t){let e,i,n,s,u,l,o,a,r,m,h,d,_,A,b,S,g,c,T,D,y,C,$,P,B,le=t[0].sampleCount+"",we,Xe,re,Qe,oe,be,Ge;return{c(){e=v("div"),i=v("div"),n=v("div"),s=v("div"),s.textContent="pyinstrument",u=w(),l=v("div"),o=v("label"),o.textContent="Absolute time",a=w(),r=v("input"),m=w(),h=v("div"),h.textContent="Recorded:",d=w(),_=v("div"),_.textContent=`${t[2]}`,A=w(),b=v("div"),b.textContent="Duration:",S=w(),g=v("div"),g.textContent=`${t[4]} seconds`,c=w(),T=v("label"),T.textContent="Proportional time",D=w(),y=v("input"),C=w(),$=v("div"),$.textContent="Samples:",P=w(),B=v("div"),we=L(le),Xe=w(),re=v("div"),re.textContent="CPU time:",Qe=w(),oe=v("div"),oe.textContent=`${t[3]} seconds`,p(s,"class","title svelte-tewt95"),p(o,"class","metric-label svelte-tewt95"),p(o,"for","absolute"),p(r,"type","radio"),r.__value="absolute",r.value=r.__value,p(r,"id","absolute"),p(r,"name","time-format"),r.checked=!0,t[6][0].push(r),p(h,"class","metric-label svelte-tewt95"),p(_,"class","metric-value svelte-tewt95"),p(b,"class","metric-label svelte-tewt95"),p(g,"class","metric-value svelte-tewt95"),p(T,"class","metric-label svelte-tewt95"),p(T,"for","proportion"),p(y,"type","radio"),y.__value="proportion",y.value=y.__value,p(y,"id","proportion"),p(y,"name","time-format"),t[6][0].push(y),p($,"class","metric-label svelte-tewt95"),p(B,"class","metric-value svelte-tewt95"),p(re,"class","metric-label svelte-tewt95"),p(oe,"class","metric-value svelte-tewt95"),p(l,"class","metrics svelte-tewt95"),p(n,"class","row svelte-tewt95"),p(i,"class","margins"),p(e,"class","header svelte-tewt95")},m(R,K){X(R,e,K),f(e,i),f(i,n),f(n,s),f(n,u),f(n,l),f(l,o),f(l,a),f(l,r),r.checked=r.__value===t[1],f(l,m),f(l,h),f(l,d),f(l,_),f(l,A),f(l,b),f(l,S),f(l,g),f(l,c),f(l,T),f(l,D),f(l,y),y.checked=y.__value===t[1],f(l,C),f(l,$),f(l,P),f(l,B),f(B,we),f(l,Xe),f(l,re),f(l,Qe),f(l,oe),be||(Ge=[V(r,"change",t[5]),V(y,"change",t[7])],be=!0)},p(R,[K]){K&2&&(r.checked=r.__value===R[1]),K&2&&(y.checked=y.__value===R[1]),K&1&&le!==(le=R[0].sampleCount+"")&&q(we,le)},i:E,o:E,d(R){R&&N(e),t[6][0].splice(t[6][0].indexOf(r),1),t[6][0].splice(t[6][0].indexOf(y),1),be=!1,G(Ge)}}}function et(t,e,i){var d,_;let n;se(t,ne,A=>i(1,n=A));let{session:s}=e;const u=new Date(s.startTime*1e3).toLocaleString(),l=(d=s.cpuTime)==null?void 0:d.toLocaleString(void 0,{maximumSignificantDigits:3}),o=s.duration.toLocaleString(void 0,{maximumSignificantDigits:3});let a=(_=s.rootFrame)==null?void 0:_.function;a=="<module>"&&(a=s.program);const r=[[]];function m(){n=this.__value,ne.set(n)}function h(){n=this.__value,ne.set(n)}return t.$$set=A=>{"session"in A&&i(0,s=A.session)},[s,n,u,l,o,m,r,h]}class tt extends _e{constructor(e){super(),ge(this,e,et,xe,W,{session:0})}}const ht="";function Me(t,e,i){const n=t.slice();return n[15]=e[i],n}function Le(t){let e,i,n,s,u,l,o,a,r,m,h,d,_,A,b,S;return{c(){e=v("div"),i=v("div"),n=Ce("svg"),s=Ce("path"),u=w(),l=v("div"),o=L(t[5]),a=w(),r=v("div"),m=L(t[4]),h=w(),d=v("div"),_=w(),A=v("div"),A.textContent=`${t[9]}`,p(s,"d","M.937-.016L5.793 4.84.937 9.696z"),p(s,"fill",t[7]),p(s,"fill-rule","evenodd"),p(s,"fill-opacity",".582"),p(n,"width","6"),p(n,"height","10"),p(i,"class","frame-triangle svelte-1aphj50"),Q(i,"rotate",t[2]),F(i,"visibility",t[0].children.length>0?"visible":"hidden"),p(l,"class","time svelte-1aphj50"),F(l,"color",t[7]),F(l,"font-weight",t[0].proportionOfTotal<.2?500:600),p(r,"class","name svelte-1aphj50"),p(d,"class","spacer"),F(d,"flex","1"),p(A,"class","code-position svelte-1aphj50"),p(e,"class","frame-description svelte-1aphj50"),Q(e,"application-code",t[0].isApplicationCode),Q(e,"children-visible",t[2]),F(e,"padding-left",`${t[1]*35}px`)},m(g,c){X(g,e,c),f(e,i),f(i,n),f(n,s),f(e,u),f(e,l),f(l,o),f(e,a),f(e,r),f(r,m),f(e,h),f(e,d),f(e,_),f(e,A),b||(S=V(e,"click",ue(ae(t[10]))),b=!0)},p(g,c){c&128&&p(s,"fill",g[7]),c&4&&Q(i,"rotate",g[2]),c&1&&F(i,"visibility",g[0].children.length>0?"visible":"hidden"),c&32&&q(o,g[5]),c&128&&F(l,"color",g[7]),c&1&&F(l,"font-weight",g[0].proportionOfTotal<.2?500:600),c&16&&q(m,g[4]),c&1&&Q(e,"application-code",g[0].isApplicationCode),c&4&&Q(e,"children-visible",g[2]),c&2&&F(e,"padding-left",`${g[1]*35}px`)},d(g){g&&N(e),b=!1,S()}}}function Ne(t){let e,i,n,s,u=t[0].group.frames.length+"",l,o,a,r,m,h;return{c(){e=v("div"),i=v("div"),n=v("div"),n.innerHTML='<svg width="6" height="10"><path d="M.937-.016L5.793 4.84.937 9.696z" fill="#FFF" fill-rule="evenodd" fill-opacity=".582"></path></svg>',s=w(),l=L(u),o=L(` frames hidden
        (`),a=L(t[6]),r=L(")"),p(n,"class","group-triangle svelte-1aphj50"),Q(n,"rotate",t[8]),p(i,"class","group-header-button svelte-1aphj50"),p(e,"class","group-header svelte-1aphj50"),F(e,"padding-left",`${t[1]*35}px`)},m(d,_){X(d,e,_),f(e,i),f(i,n),f(i,s),f(i,l),f(i,o),f(i,a),f(i,r),m||(h=[V(e,"click",ue(ae(t[11]))),V(e,"dblclick",ue(ae(t[14])))],m=!0)},p(d,_){_&256&&Q(n,"rotate",d[8]),_&1&&u!==(u=d[0].group.frames.length+"")&&q(l,u),_&64&&q(a,d[6]),_&2&&F(e,"padding-left",`${d[1]*35}px`)},d(d){d&&N(e),m=!1,G(h)}}}function ze(t){let e=[],i=new Map,n,s,u=t[0].children;const l=o=>o[15].identifier;for(let o=0;o<u.length;o+=1){let a=Me(t,u,o),r=l(a);i.set(r,e[o]=Be(r,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=Ee()},m(o,a){for(let r=0;r<e.length;r+=1)e[r].m(o,a);X(o,n,a),s=!0},p(o,a){a&11&&(u=o[0].children,pe(),e=We(e,a,l,1,o,u,i,n.parentNode,Ke,Be,n,Me),me())},i(o){if(!s){for(let a=0;a<u.length;a+=1)M(e[a]);s=!0}},o(o){for(let a=0;a<e.length;a+=1)z(e[a]);s=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&N(n)}}}function Be(t,e){let i,n,s;return n=new He({props:{frame:e[15],indent:e[1]+(e[3]?1:0)}}),{key:t,first:null,c(){i=Ee(),he(n.$$.fragment),this.first=i},m(u,l){X(u,i,l),te(n,u,l),s=!0},p(u,l){e=u;const o={};l&1&&(o.frame=e[15]),l&10&&(o.indent=e[1]+(e[3]?1:0)),n.$set(o)},i(u){s||(M(n.$$.fragment,u),s=!0)},o(u){z(n.$$.fragment,u),s=!1},d(u){u&&N(i),ie(n,u)}}}function it(t){let e,i,n,s,u,l,o=t[3]&&Le(t),a=t[0].group&&t[0].group.rootFrame==t[0]&&t[2]&&Ne(t),r=t[2]&&ze(t);return{c(){e=v("div"),o&&o.c(),i=w(),a&&a.c(),n=w(),r&&r.c(),s=w(),u=v("div"),p(u,"class","visual-guide"),F(u,"left",`${t[1]*35+21}px`),F(u,"backgroundColor",t[7]),p(e,"class","frame svelte-1aphj50")},m(m,h){X(m,e,h),o&&o.m(e,null),f(e,i),a&&a.m(e,null),f(e,n),r&&r.m(e,null),f(e,s),f(e,u),l=!0},p(m,[h]){m[3]?o?o.p(m,h):(o=Le(m),o.c(),o.m(e,i)):o&&(o.d(1),o=null),m[0].group&&m[0].group.rootFrame==m[0]&&m[2]?a?a.p(m,h):(a=Ne(m),a.c(),a.m(e,n)):a&&(a.d(1),a=null),m[2]?r?(r.p(m,h),h&4&&M(r,1)):(r=ze(m),r.c(),M(r,1),r.m(e,s)):r&&(pe(),z(r,1,1,()=>{r=null}),me()),h&2&&F(u,"left",`${m[1]*35+21}px`),h&128&&F(u,"backgroundColor",m[7])},i(m){l||(M(r),l=!0)},o(m){z(r),l=!1},d(m){m&&N(e),o&&o.d(),a&&a.d(),r&&r.d()}}}function nt(t,e,i){let n,s,u;se(t,De,c=>i(12,s=c)),se(t,ne,c=>i(13,u=c));let{frame:l}=e,{indent:o=0}=e,a=!0,r,m;l.className?m=`${l.className}.${l.function}`:m=l.function;const h=`${l.filePathShort}:${l.lineNo.toString().padEnd(4,"\xA0")}`;let d,_=null;if(l.group){const c=l.group.libraries;c.length<4?_=c.join(", "):_=`${c[0]}, ${c[1]}, ${c[2]}...`}let A;l.proportionOfTotal>.6?A="#FF4159":l.proportionOfTotal>.3?A="#F5A623":l.proportionOfTotal>.2?A="#D8CB2A":A="#7ED321";function b(){i(2,a=!a)}function S(){De.update(c=>{var T;return{...c,[(T=l.groupId)!=null?T:""]:!n}})}function g(c){Ve.call(this,t,c)}return t.$$set=c=>{"frame"in c&&i(0,l=c.frame),"indent"in c&&i(1,o=c.indent)},t.$$.update=()=>{var c,T,D;if(t.$$.dirty&4097&&(l.group?s[(c=l.groupId)!=null?c:""]||((T=l.group)==null?void 0:T.rootFrame)===l||l.children.filter(y=>!y.group).length>1?i(3,r=!0):i(3,r=!1):i(3,r=!0)),t.$$.dirty&8193)if(u==="absolute")i(5,d=l.time.toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:3}));else if(u==="proportion")i(5,d=`${(l.proportionOfTotal*100).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})}%`);else throw new Error("unknown timeFormat");t.$$.dirty&4097&&i(8,n=s[(D=l.groupId)!=null?D:""]===!0)},[l,o,a,r,m,d,_,A,n,h,b,S,s,u,g]}class He extends _e{constructor(e){super(),ge(this,e,nt,it,W,{frame:0,indent:1})}}const lt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACPTkDJAAAFPklEQVRYCdWXu4skVRSHb3VXP2bcXUVMBkRMTVww2XQDExEEH4iKiUYGhuJEPgJhUSMzQQSDRVzETNDMTTfUwL/ARUwM1t3pV1WX33eqbnfP9MxOu5kHTt9T93F+v3vOubeqi7QhT1+58vhiVn1G19WiaQ6KIqVQOmyT+h9kuUxp2bAAtQkpij9pbw5G5fu/3br1x8ql4NW0+rVJzaN29nop9VUeCtoerXpMTj53g+AGcINR1YB3RIJMN6dIxd/luLxcZoftzltwAct+SiNGh2jJ84BnSQWJTeBNW2C0ZrvufrZA5y2JmuemWkfCjYq5IsC6q2iE2V0LuDdMaYxKZDxo+yS3JZkEY+5SsAU7P5q1qZNEAxnXGo0NubomQM4dWPnCMAU/fUCnoA7kFjPEPohuqfO6uc++0xKSVHUcHDbNwZpAeFyHyMcg408G16mSnwW3b5OEz3rtCAyJnHUQUSEFmMdki0CMmsNOX/gkpf1RSpf223Q43jC2MMw4tFWsjwHzBngsIOT6CaEf7wGKrTo/agFbH8oWAQdkWTF5htGntSDn2h2YBTal/9603Z2++swZ0+5BZIjdQwfUz5DcGwHVotSfdpYtAg7oUKzaycyo6PjmkA4cRmgBuf5zSj/80kbAuToaYHz9afdgCiCxJF3gpudfZampOyGnEwAwIkEbuROBXEauXZGdYzrEtFTTpx3zHGeewGoFcFxk2Cdlxempy8/oZyXm1KO3R14fIraPXEzpAnXgyVBmRMdjNgdVsqZgxLw9cl4C7m7N+d17pOqIuaj2LKetQzs1Ai3E+reRJip4CSnz2wPYHC9wFL66MYko9k8pwgmAU4hqbxZhO6tNXba321V8Uvruc4ZzGgQxErnFNszqItqC0DdpTtzfeqWJ21DwpRp5WkOdHwFJqM4UMLcdeB2AADPUkigSm00VOZixsOL8WfUB3oWd4ZWcT8CpgLz2XkoPX+IgEIU+q6K6QZqzqxoAr15vupqC8Air0wm7JwUL2AWJByIAuDXQEGZ1aegRASY4Ppq0AOZZIoZYsLh4zDsa4PSfeA+En/tGQMI5ZTe+xClhN+Q5z4b67TfZJeATiAQw4J4KwTzCOfT2nSb3JRALAJTEfKPQcrGBG5GwwCLMRCRAXcgiQY1IYD8ogbzuDd5qF7gL+p4ESM05Z//coWXH1oEE5oQkQPOi3EroDDk/Ai40Cp3SRE2AG+8MWyOk5h1j7ixnEogPD0dVcv/FVwXXLceKs20K5rCaFk06fKmOD424akkTXUFkVwanEtBZfH7hMK5eCEwBl0DNYHvJ0Idd4MHXr7djkGDtWQV3GqlTCRhybzqv1R4zbA/fXabRfhFAHkvflJO77XivuyElbRHG+h3yL6EtAu4iPkoF5q4veRn1ecEUAwYg0pSyQwAoRk3qz4p4DS+wawpxSVHoY9cobBHQtxBBBMBrN/rkvOEC6lF0hF/nKvaS31yE155btLVAFKIidbSDbBMI9HaluzjC4ZKQWHieBIcVPqvbyg/b503Dh91kTcB/LH4Z6wmNI8X2PnyxTkPSUI7JP7MjvE5hTrwDuO+rLvT2uXxnAXNNgL9LLHxdB16jOi24XgOEK68EyMKMb/uYRERol1w+FmRN67XrWonsKDdzRNPmXzPjbEXHxwWttsCcwpXki8cte91afP7zkdQuYch/zSizVv66ffvOwZNPfLus/YNSPMYuLkZIda66yw3NzwHMeCOBXcBNdVH8OBiXLx/7c5qJrFrK/GOYfETH97Sr/jOM38FnvodDGv8f+Rcj1XBLIcDKAQAAAABJRU5ErkJggg==",gt="";function rt(t){let e;return{c(){e=v("div"),e.textContent="No samples recorded.",p(e,"class","error")},m(i,n){X(i,e,n)},p:E,i:E,o:E,d(i){i&&N(e)}}}function ot(t){let e,i;return e=new He({props:{frame:t[0].rootFrame}}),{c(){he(e.$$.fragment)},m(n,s){te(e,n,s),i=!0},p(n,s){const u={};s&1&&(u.frame=n[0].rootFrame),e.$set(u)},i(n){i||(M(e.$$.fragment,n),i=!0)},o(n){z(e.$$.fragment,n),i=!1},d(n){ie(e,n)}}}function st(t){let e,i,n,s,u,l,o,a,r,m,h,d,_;i=new tt({props:{session:t[0]}});const A=[ot,rt],b=[];function S(g,c){return g[0].rootFrame?0:1}return h=S(t),d=b[h]=A[h](t),{c(){e=v("div"),he(i.$$.fragment),n=w(),s=v("div"),u=w(),l=v("div"),o=v("div"),a=v("span"),a.textContent="Program:\xA0",r=L(t[1]),m=w(),d.c(),p(s,"class","spacer"),F(s,"height","20px"),p(a,"class","label svelte-1gm5pcf"),p(o,"class","program svelte-1gm5pcf"),p(l,"class","margins"),p(e,"class","app svelte-1gm5pcf")},m(g,c){X(g,e,c),te(i,e,null),f(e,n),f(e,s),f(e,u),f(e,l),f(l,o),f(o,a),f(o,r),f(l,m),b[h].m(l,null),_=!0},p(g,[c]){const T={};c&1&&(T.session=g[0]),i.$set(T),(!_||c&2)&&q(r,g[1]);let D=h;h=S(g),h===D?b[h].p(g,c):(pe(),z(b[D],1,1,()=>{b[D]=null}),me(),d=b[h],d?d.p(g,c):(d=b[h]=A[h](g),d.c()),M(d,1),d.m(l,null))},i(g){_||(M(i.$$.fragment,g),M(d),_=!0)},o(g){z(i.$$.fragment,g),z(d),_=!1},d(g){g&&N(e),ie(i),b[h].d()}}}function ve(){document.body.style.minHeight=`${window.scrollY+window.innerHeight}px`}function at(t,e,i){let{session:n}=e;const s=document.createElement("link");s.rel="shortut icon",s.href=lt,document.head.appendChild(s),qe(()=>{window.addEventListener("scroll",ve),ve()}),Ue(()=>{window.removeEventListener("scroll",ve)});const u=n.rootFrame,l=u==null?void 0:u.time.toLocaleString(void 0,{maximumSignificantDigits:3});let o=u==null?void 0:u.function;return o=="<module>"&&(o=n.program),document.title=`${l}s - ${o} - pyinstrument`,t.$$set=a=>{"session"in a&&i(0,n=a.session)},[n,o]}class ut extends _e{constructor(e){super(),ge(this,e,at,st,W,{session:0})}}class ft{constructor(e,i){k(this,"id");k(this,"rootFrame");k(this,"frames",[]);this.id=e,this.rootFrame=i}addFrame(e){this.frames.push(e)}get exitFrames(){const e=[];for(const i of this.frames){let n=!1;for(const s of i.children)if(s.group!=this){n=!0;break}n&&e.push(i)}return e}get libraries(){const e=[];for(const i of this.frames){const n=/^[^\\/.]*/.exec(i.filePathShort)[0];e.includes(n)||e.push(n)}return e}}class Ae{constructor(e,i=null,n={groups:{}}){k(this,"function");k(this,"filePath");k(this,"filePathShort");k(this,"lineNo");k(this,"time");k(this,"totalTime");k(this,"awaitTime");k(this,"isApplicationCode");k(this,"groupId");k(this,"className");k(this,"parent");k(this,"children");k(this,"group");var s,u;if(this.parent=i,this.function=e.function,this.filePath=e.file_path,this.filePathShort=e.file_path_short,this.lineNo=e.line_no,this.time=e.time,this.totalTime=this.parent?this.parent.totalTime:this.time,this.awaitTime=e.await_time,this.isApplicationCode=e.is_application_code,this.groupId=(s=e.group_id)!=null?s:null,this.className=(u=e.class_name)!=null?u:null,e.group_id){const l=e.group_id;let o=n.groups[l];o||(o=n.groups[l]=new ft(l,this)),o.addFrame(this),this.group=n.groups[l]}else this.group=null;this.children=e.children.map(l=>new Ae(l,this,n))}get identifier(){return`${this.function}:${this.filePath}:${this.lineNo}`}get proportionOfTotal(){return this.time/this.totalTime}}class ct{constructor(e){k(this,"startTime");k(this,"duration");k(this,"sampleCount");k(this,"program");k(this,"cpuTime");k(this,"rootFrame");this.startTime=e.start_time,this.duration=e.duration,this.sampleCount=e.sample_count,this.program=e.program,this.cpuTime=e.cpu_time,this.rootFrame=e.root_frame?new Ae(e.root_frame):null}}return{render(t,e){const i=new ct(e);return new ut({target:t,props:{session:i}})}}}();
