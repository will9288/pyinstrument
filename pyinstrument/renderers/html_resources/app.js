var pyinstrumentHTMLRenderer=function(){"use strict";var gt=Object.defineProperty;var _t=(R,y,B)=>y in R?gt(R,y,{enumerable:!0,configurable:!0,writable:!0,value:B}):R[y]=B;var b=(R,y,B)=>(_t(R,typeof y!="symbol"?y+"":y,B),B);const R="";function y(){}function B(t){return t()}function ye(){return Object.create(null)}function O(t){t.forEach(B)}function Ce(t){return typeof t=="function"}function K(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ve(t){return Object.keys(t).length===0}function Ze(t,...e){if(t==null)return y;const i=t.subscribe(...e);return i.unsubscribe?()=>i.unsubscribe():i}function ue(t,e,i){t.$$.on_destroy.push(Ze(e,i))}function f(t,e){t.appendChild(e)}function H(t,e,i){t.insertBefore(e,i||null)}function L(t){t.parentNode&&t.parentNode.removeChild(t)}function v(t){return document.createElement(t)}function Ee(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function M(t){return document.createTextNode(t)}function w(){return M(" ")}function Te(){return M("")}function W(t,e,i,r){return t.addEventListener(e,i,r),()=>t.removeEventListener(e,i,r)}function Fe(t){return function(e){return e.preventDefault(),t.call(this,e)}}function Se(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function d(t,e,i){i==null?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function Ye(t){return Array.from(t.childNodes)}function q(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function T(t,e,i,r){i===null?t.style.removeProperty(e):t.style.setProperty(e,i,r?"important":"")}function X(t,e,i){t.classList[i?"add":"remove"](e)}let Z;function Y(t){Z=t}function $e(){if(!Z)throw new Error("Function called outside component initialization");return Z}function Je(t){$e().$$.on_mount.push(t)}function Ke(t){$e().$$.on_destroy.push(t)}const J=[],Pe=[],j=[],De=[],We=Promise.resolve();let fe=!1;function je(){fe||(fe=!0,We.then(Me))}function ce(t){j.push(t)}const de=new Set;let x=0;function Me(){const t=Z;do{for(;x<J.length;){const e=J[x];x++,Y(e),xe(e.$$)}for(Y(null),J.length=0,x=0;Pe.length;)Pe.pop()();for(let e=0;e<j.length;e+=1){const i=j[e];de.has(i)||(de.add(i),i())}j.length=0}while(J.length);for(;De.length;)De.pop()();fe=!1,de.clear(),Y(t)}function xe(t){if(t.fragment!==null){t.update(),O(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ce)}}const ee=new Set;let G;function pe(){G={r:0,c:[],p:G}}function me(){G.r||O(G.c),G=G.p}function P(t,e){t&&t.i&&(ee.delete(t),t.i(e))}function N(t,e,i,r){if(t&&t.o){if(ee.has(t))return;ee.add(t),G.c.push(()=>{ee.delete(t),r&&(i&&t.d(1),r())}),t.o(e)}else r&&r()}function et(t,e){N(t,1,1,()=>{e.delete(t.key)})}function tt(t,e,i,r,a,u,n,o,s,l,p,m){let g=t.length,c=u.length,_=g;const E={};for(;_--;)E[t[_].key]=_;const F=[],h=new Map,A=new Map;for(_=c;_--;){const k=m(a,u,_),S=i(k);let $=n.get(S);$?r&&$.p(k,e):($=l(S,k),$.c()),h.set(S,F[_]=$),S in E&&A.set(S,Math.abs(_-E[S]))}const D=new Set,I=new Set;function C(k){P(k,1),k.m(o,p),n.set(k.key,k),p=k.first,c--}for(;g&&c;){const k=F[c-1],S=t[g-1],$=k.key,z=S.key;k===S?(p=k.first,g--,c--):h.has(z)?!n.has($)||D.has($)?C(k):I.has(z)?g--:A.get($)>A.get(z)?(I.add($),C(k)):(D.add(z),g--):(s(S,n),g--)}for(;g--;){const k=t[g];h.has(k.key)||s(k,n)}for(;c;)C(F[c-1]);return F}function he(t){t&&t.c()}function te(t,e,i,r){const{fragment:a,after_update:u}=t.$$;a&&a.m(e,i),r||ce(()=>{const n=t.$$.on_mount.map(B).filter(Ce);t.$$.on_destroy?t.$$.on_destroy.push(...n):O(n),t.$$.on_mount=[]}),u.forEach(ce)}function ie(t,e){const i=t.$$;i.fragment!==null&&(O(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function it(t,e){t.$$.dirty[0]===-1&&(J.push(t),je(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ge(t,e,i,r,a,u,n,o=[-1]){const s=Z;Y(t);const l=t.$$={fragment:null,ctx:[],props:u,update:y,not_equal:a,bound:ye(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:ye(),dirty:o,skip_bound:!1,root:e.target||s.$$.root};n&&n(l.root);let p=!1;if(l.ctx=i?i(t,e.props||{},(m,g,...c)=>{const _=c.length?c[0]:g;return l.ctx&&a(l.ctx[m],l.ctx[m]=_)&&(!l.skip_bound&&l.bound[m]&&l.bound[m](_),p&&it(t,m)),g}):[],l.update(),p=!0,O(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){const m=Ye(e.target);l.fragment&&l.fragment.l(m),m.forEach(L)}else l.fragment&&l.fragment.c();e.intro&&P(t.$$.fragment),te(t,e.target,e.anchor,e.customElement),Me()}Y(s)}class _e{$destroy(){ie(this,1),this.$destroy=y}$on(e,i){if(!Ce(i))return y;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(i),()=>{const a=r.indexOf(i);a!==-1&&r.splice(a,1)}}$set(e){this.$$set&&!Ve(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const U=[];function Le(t,e=y){let i;const r=new Set;function a(o){if(K(t,o)&&(t=o,i)){const s=!U.length;for(const l of r)l[1](),U.push(l,t);if(s){for(let l=0;l<U.length;l+=2)U[l][0](U[l+1]);U.length=0}}}function u(o){a(o(t))}function n(o,s=y){const l=[o,s];return r.add(l),r.size===1&&(i=e(a)||y),o(t),()=>{r.delete(l),r.size===0&&(i(),i=null)}}return{set:a,update:u,subscribe:n}}const Ne=Le({}),ne=Le("absolute"),vt="";function nt(t){let e,i,r,a,u,n,o,s,l,p,m,g,c,_,E,F,h,A,D,I,C,k,S,$,z,re=t[0].sampleCount+"",we,Ie,le,Re,oe,Oe,se,qe,ae,be,ke,Ue;return{c(){e=v("div"),i=v("div"),r=v("div"),a=v("div"),a.textContent="pyinstrument",u=w(),n=v("div"),o=v("label"),o.textContent="Absolute time",s=w(),l=v("input"),p=w(),m=v("div"),m.textContent="Recorded:",g=w(),c=v("div"),c.textContent=`${t[3]}`,_=w(),E=v("div"),E.textContent="Duration:",F=w(),h=v("div"),h.textContent=`${t[5]} seconds`,A=w(),D=v("label"),D.textContent="Proportional time",I=w(),C=v("input"),k=w(),S=v("div"),S.textContent="Samples:",$=w(),z=v("div"),we=M(re),Ie=w(),le=v("div"),le.textContent="CPU time:",Re=w(),oe=v("div"),oe.textContent=`${t[4]} seconds`,Oe=w(),se=v("div"),se.textContent="Program:",qe=w(),ae=v("div"),be=M(t[1]),d(a,"class","title svelte-tewt95"),d(o,"class","metric-label svelte-tewt95"),d(o,"for","absolute"),d(l,"type","radio"),l.__value="absolute",l.value=l.__value,d(l,"id","absolute"),d(l,"name","time-format"),l.checked=!0,t[7][0].push(l),d(m,"class","metric-label svelte-tewt95"),d(c,"class","metric-value svelte-tewt95"),d(E,"class","metric-label svelte-tewt95"),d(h,"class","metric-value svelte-tewt95"),d(D,"class","metric-label svelte-tewt95"),d(D,"for","proportion"),d(C,"type","radio"),C.__value="proportion",C.value=C.__value,d(C,"id","proportion"),d(C,"name","time-format"),t[7][0].push(C),d(S,"class","metric-label svelte-tewt95"),d(z,"class","metric-value svelte-tewt95"),d(le,"class","metric-label svelte-tewt95"),d(oe,"class","metric-value svelte-tewt95"),d(se,"class","metric-label svelte-tewt95"),d(ae,"class","metric-value svelte-tewt95"),d(n,"class","metrics svelte-tewt95"),d(r,"class","row svelte-tewt95"),d(i,"class","margins"),d(e,"class","header svelte-tewt95")},m(Q,V){H(Q,e,V),f(e,i),f(i,r),f(r,a),f(r,u),f(r,n),f(n,o),f(n,s),f(n,l),l.checked=l.__value===t[2],f(n,p),f(n,m),f(n,g),f(n,c),f(n,_),f(n,E),f(n,F),f(n,h),f(n,A),f(n,D),f(n,I),f(n,C),C.checked=C.__value===t[2],f(n,k),f(n,S),f(n,$),f(n,z),f(z,we),f(n,Ie),f(n,le),f(n,Re),f(n,oe),f(n,Oe),f(n,se),f(n,qe),f(n,ae),f(ae,be),ke||(Ue=[W(l,"change",t[6]),W(C,"change",t[8])],ke=!0)},p(Q,[V]){V&4&&(l.checked=l.__value===Q[2]),V&4&&(C.checked=C.__value===Q[2]),V&1&&re!==(re=Q[0].sampleCount+"")&&q(we,re),V&2&&q(be,Q[1])},i:y,o:y,d(Q){Q&&L(e),t[7][0].splice(t[7][0].indexOf(l),1),t[7][0].splice(t[7][0].indexOf(C),1),ke=!1,O(Ue)}}}function rt(t,e,i){var g,c;let r;ue(t,ne,_=>i(2,r=_));let{session:a}=e;const u=new Date(a.startTime*1e3).toLocaleString(),n=(g=a.cpuTime)==null?void 0:g.toLocaleString(void 0,{maximumSignificantDigits:3}),o=a.duration.toLocaleString(void 0,{maximumSignificantDigits:3});let s=(c=a.rootFrame)==null?void 0:c.function;s=="<module>"&&(s=a.program);const l=[[]];function p(){r=this.__value,ne.set(r)}function m(){r=this.__value,ne.set(r)}return t.$$set=_=>{"session"in _&&i(0,a=_.session)},[a,s,r,u,n,o,p,l,m]}class lt extends _e{constructor(e){super(),ge(this,e,rt,nt,K,{session:0})}}const At="";function ze(t,e,i){const r=t.slice();return r[14]=e[i],r}function Be(t){let e,i,r,a,u,n,o,s,l,p,m,g,c,_,E,F;return{c(){e=v("div"),i=v("div"),r=Ee("svg"),a=Ee("path"),u=w(),n=v("div"),o=M(t[5]),s=w(),l=v("div"),p=M(t[4]),m=w(),g=v("div"),c=w(),_=v("div"),_.textContent=`${t[9]}`,d(a,"d","M.937-.016L5.793 4.84.937 9.696z"),d(a,"fill",t[7]),d(a,"fill-rule","evenodd"),d(a,"fill-opacity",".582"),d(r,"width","6"),d(r,"height","10"),d(i,"class","frame-triangle svelte-1aphj50"),X(i,"rotate",t[2]),T(i,"visibility",t[0].children.length>0?"visible":"hidden"),d(n,"class","time svelte-1aphj50"),T(n,"color",t[7]),T(n,"font-weight",t[0].proportionOfTotal<.2?500:600),d(l,"class","name svelte-1aphj50"),d(g,"class","spacer"),T(g,"flex","1"),d(_,"class","code-position svelte-1aphj50"),d(e,"class","frame-description svelte-1aphj50"),X(e,"application-code",t[0].isApplicationCode),X(e,"children-visible",t[2]),T(e,"padding-left",`${t[1]*35}px`)},m(h,A){H(h,e,A),f(e,i),f(i,r),f(r,a),f(e,u),f(e,n),f(n,o),f(e,s),f(e,l),f(l,p),f(e,m),f(e,g),f(e,c),f(e,_),E||(F=W(e,"click",Se(Fe(t[10]))),E=!0)},p(h,A){A&128&&d(a,"fill",h[7]),A&4&&X(i,"rotate",h[2]),A&1&&T(i,"visibility",h[0].children.length>0?"visible":"hidden"),A&32&&q(o,h[5]),A&128&&T(n,"color",h[7]),A&1&&T(n,"font-weight",h[0].proportionOfTotal<.2?500:600),A&16&&q(p,h[4]),A&1&&X(e,"application-code",h[0].isApplicationCode),A&4&&X(e,"children-visible",h[2]),A&2&&T(e,"padding-left",`${h[1]*35}px`)},d(h){h&&L(e),E=!1,F()}}}function He(t){let e,i,r,a,u=t[0].group.frames.length+"",n,o,s,l,p,m;return{c(){e=v("div"),i=v("div"),r=v("div"),r.innerHTML='<svg width="6" height="10"><path d="M.937-.016L5.793 4.84.937 9.696z" fill="#FFF" fill-rule="evenodd" fill-opacity=".582"></path></svg>',a=w(),n=M(u),o=M(` frames hidden
        (`),s=M(t[6]),l=M(")"),d(r,"class","group-triangle svelte-1aphj50"),X(r,"rotate",t[8]),d(i,"class","group-header-button svelte-1aphj50"),d(e,"class","group-header svelte-1aphj50"),T(e,"padding-left",`${t[1]*35}px`)},m(g,c){H(g,e,c),f(e,i),f(i,r),f(i,a),f(i,n),f(i,o),f(i,s),f(i,l),p||(m=W(e,"click",Se(Fe(t[11]))),p=!0)},p(g,c){c&256&&X(r,"rotate",g[8]),c&1&&u!==(u=g[0].group.frames.length+"")&&q(n,u),c&64&&q(s,g[6]),c&2&&T(e,"padding-left",`${g[1]*35}px`)},d(g){g&&L(e),p=!1,m()}}}function Xe(t){let e=[],i=new Map,r,a,u=t[0].children;const n=o=>o[14].identifier;for(let o=0;o<u.length;o+=1){let s=ze(t,u,o),l=n(s);i.set(l,e[o]=Qe(l,s))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();r=Te()},m(o,s){for(let l=0;l<e.length;l+=1)e[l].m(o,s);H(o,r,s),a=!0},p(o,s){s&11&&(u=o[0].children,pe(),e=tt(e,s,n,1,o,u,i,r.parentNode,et,Qe,r,ze),me())},i(o){if(!a){for(let s=0;s<u.length;s+=1)P(e[s]);a=!0}},o(o){for(let s=0;s<e.length;s+=1)N(e[s]);a=!1},d(o){for(let s=0;s<e.length;s+=1)e[s].d(o);o&&L(r)}}}function Qe(t,e){let i,r,a;return r=new Ge({props:{frame:e[14],indent:e[1]+(e[3]?1:0)}}),{key:t,first:null,c(){i=Te(),he(r.$$.fragment),this.first=i},m(u,n){H(u,i,n),te(r,u,n),a=!0},p(u,n){e=u;const o={};n&1&&(o.frame=e[14]),n&10&&(o.indent=e[1]+(e[3]?1:0)),r.$set(o)},i(u){a||(P(r.$$.fragment,u),a=!0)},o(u){N(r.$$.fragment,u),a=!1},d(u){u&&L(i),ie(r,u)}}}function ot(t){let e,i,r,a,u,n,o=t[3]&&Be(t),s=t[0].group&&t[0].group.rootFrame==t[0]&&t[2]&&He(t),l=t[2]&&Xe(t);return{c(){e=v("div"),o&&o.c(),i=w(),s&&s.c(),r=w(),l&&l.c(),a=w(),u=v("div"),d(u,"class","visual-guide"),T(u,"left",`${t[1]*35+21}px`),T(u,"backgroundColor",t[7]),d(e,"class","frame svelte-1aphj50")},m(p,m){H(p,e,m),o&&o.m(e,null),f(e,i),s&&s.m(e,null),f(e,r),l&&l.m(e,null),f(e,a),f(e,u),n=!0},p(p,[m]){p[3]?o?o.p(p,m):(o=Be(p),o.c(),o.m(e,i)):o&&(o.d(1),o=null),p[0].group&&p[0].group.rootFrame==p[0]&&p[2]?s?s.p(p,m):(s=He(p),s.c(),s.m(e,r)):s&&(s.d(1),s=null),p[2]?l?(l.p(p,m),m&4&&P(l,1)):(l=Xe(p),l.c(),P(l,1),l.m(e,a)):l&&(pe(),N(l,1,1,()=>{l=null}),me()),m&2&&T(u,"left",`${p[1]*35+21}px`),m&128&&T(u,"backgroundColor",p[7])},i(p){n||(P(l),n=!0)},o(p){N(l),n=!1},d(p){p&&L(e),o&&o.d(),s&&s.d(),l&&l.d()}}}function st(t,e,i){let r,a,u;ue(t,Ne,h=>i(12,a=h)),ue(t,ne,h=>i(13,u=h));let{frame:n}=e,{indent:o=0}=e,s=!0,l,p;n.className?p=`${n.className}.${n.function}`:p=n.function;const m=`${n.filePathShort}:${n.lineNo.toString().padEnd(4,"\xA0")}`;let g,c=null;if(n.group){const h=n.group.libraries;h.length<4?c=h.join(", "):c=`${h[0]}, ${h[1]}, ${h[2]}...`}let _;n.proportionOfTotal>.6?_="#FF4159":n.proportionOfTotal>.3?_="#F5A623":n.proportionOfTotal>.2?_="#D8CB2A":_="#7ED321";function E(){i(2,s=!s)}function F(){Ne.update(h=>{var A;return{...h,[(A=n.groupId)!=null?A:""]:!r}})}return t.$$set=h=>{"frame"in h&&i(0,n=h.frame),"indent"in h&&i(1,o=h.indent)},t.$$.update=()=>{var h,A,D;if(t.$$.dirty&4097&&(n.group?a[(h=n.groupId)!=null?h:""]||((A=n.group)==null?void 0:A.rootFrame)===n||n.children.filter(I=>!I.group).length>1?i(3,l=!0):i(3,l=!1):i(3,l=!0)),t.$$.dirty&8193)if(u==="absolute")i(5,g=n.time.toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:3}));else if(u==="proportion")i(5,g=`${(n.proportionOfTotal*100).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})}%`);else throw new Error("unknown timeFormat");t.$$.dirty&4097&&i(8,r=a[(D=n.groupId)!=null?D:""]===!0)},[n,o,s,l,p,g,c,_,r,m,E,F,a,u]}class Ge extends _e{constructor(e){super(),ge(this,e,st,ot,K,{frame:0,indent:1})}}const at="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACPTkDJAAAFPklEQVRYCdWXu4skVRSHb3VXP2bcXUVMBkRMTVww2XQDExEEH4iKiUYGhuJEPgJhUSMzQQSDRVzETNDMTTfUwL/ARUwM1t3pV1WX33eqbnfP9MxOu5kHTt9T93F+v3vOubeqi7QhT1+58vhiVn1G19WiaQ6KIqVQOmyT+h9kuUxp2bAAtQkpij9pbw5G5fu/3br1x8ql4NW0+rVJzaN29nop9VUeCtoerXpMTj53g+AGcINR1YB3RIJMN6dIxd/luLxcZoftzltwAct+SiNGh2jJ84BnSQWJTeBNW2C0ZrvufrZA5y2JmuemWkfCjYq5IsC6q2iE2V0LuDdMaYxKZDxo+yS3JZkEY+5SsAU7P5q1qZNEAxnXGo0NubomQM4dWPnCMAU/fUCnoA7kFjPEPohuqfO6uc++0xKSVHUcHDbNwZpAeFyHyMcg408G16mSnwW3b5OEz3rtCAyJnHUQUSEFmMdki0CMmsNOX/gkpf1RSpf223Q43jC2MMw4tFWsjwHzBngsIOT6CaEf7wGKrTo/agFbH8oWAQdkWTF5htGntSDn2h2YBTal/9603Z2++swZ0+5BZIjdQwfUz5DcGwHVotSfdpYtAg7oUKzaycyo6PjmkA4cRmgBuf5zSj/80kbAuToaYHz9afdgCiCxJF3gpudfZampOyGnEwAwIkEbuROBXEauXZGdYzrEtFTTpx3zHGeewGoFcFxk2Cdlxempy8/oZyXm1KO3R14fIraPXEzpAnXgyVBmRMdjNgdVsqZgxLw9cl4C7m7N+d17pOqIuaj2LKetQzs1Ai3E+reRJip4CSnz2wPYHC9wFL66MYko9k8pwgmAU4hqbxZhO6tNXba321V8Uvruc4ZzGgQxErnFNszqItqC0DdpTtzfeqWJ21DwpRp5WkOdHwFJqM4UMLcdeB2AADPUkigSm00VOZixsOL8WfUB3oWd4ZWcT8CpgLz2XkoPX+IgEIU+q6K6QZqzqxoAr15vupqC8Air0wm7JwUL2AWJByIAuDXQEGZ1aegRASY4Ppq0AOZZIoZYsLh4zDsa4PSfeA+En/tGQMI5ZTe+xClhN+Q5z4b67TfZJeATiAQw4J4KwTzCOfT2nSb3JRALAJTEfKPQcrGBG5GwwCLMRCRAXcgiQY1IYD8ogbzuDd5qF7gL+p4ESM05Z//coWXH1oEE5oQkQPOi3EroDDk/Ai40Cp3SRE2AG+8MWyOk5h1j7ixnEogPD0dVcv/FVwXXLceKs20K5rCaFk06fKmOD424akkTXUFkVwanEtBZfH7hMK5eCEwBl0DNYHvJ0Idd4MHXr7djkGDtWQV3GqlTCRhybzqv1R4zbA/fXabRfhFAHkvflJO77XivuyElbRHG+h3yL6EtAu4iPkoF5q4veRn1ecEUAwYg0pSyQwAoRk3qz4p4DS+wawpxSVHoY9cobBHQtxBBBMBrN/rkvOEC6lF0hF/nKvaS31yE155btLVAFKIidbSDbBMI9HaluzjC4ZKQWHieBIcVPqvbyg/b503Dh91kTcB/LH4Z6wmNI8X2PnyxTkPSUI7JP7MjvE5hTrwDuO+rLvT2uXxnAXNNgL9LLHxdB16jOi24XgOEK68EyMKMb/uYRERol1w+FmRN67XrWonsKDdzRNPmXzPjbEXHxwWttsCcwpXki8cte91afP7zkdQuYch/zSizVv66ffvOwZNPfLus/YNSPMYuLkZIda66yw3NzwHMeCOBXcBNdVH8OBiXLx/7c5qJrFrK/GOYfETH97Sr/jOM38FnvodDGv8f+Rcj1XBLIcDKAQAAAABJRU5ErkJggg==",wt="";function ut(t){let e;return{c(){e=v("div"),e.textContent="No samples recorded.",d(e,"class","error")},m(i,r){H(i,e,r)},p:y,i:y,o:y,d(i){i&&L(e)}}}function ft(t){let e,i;return e=new Ge({props:{frame:t[0].rootFrame}}),{c(){he(e.$$.fragment)},m(r,a){te(e,r,a),i=!0},p(r,a){const u={};a&1&&(u.frame=r[0].rootFrame),e.$set(u)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){N(e.$$.fragment,r),i=!1},d(r){ie(e,r)}}}function ct(t){let e,i,r,a,u,n,o,s,l;i=new lt({props:{session:t[0]}});const p=[ft,ut],m=[];function g(c,_){return c[0].rootFrame?0:1}return o=g(t),s=m[o]=p[o](t),{c(){e=v("div"),he(i.$$.fragment),r=w(),a=v("div"),u=w(),n=v("div"),s.c(),d(a,"class","spacer"),T(a,"height","20px"),d(n,"class","margins"),d(e,"class","app svelte-rmu4zi")},m(c,_){H(c,e,_),te(i,e,null),f(e,r),f(e,a),f(e,u),f(e,n),m[o].m(n,null),l=!0},p(c,[_]){const E={};_&1&&(E.session=c[0]),i.$set(E);let F=o;o=g(c),o===F?m[o].p(c,_):(pe(),N(m[F],1,1,()=>{m[F]=null}),me(),s=m[o],s?s.p(c,_):(s=m[o]=p[o](c),s.c()),P(s,1),s.m(n,null))},i(c){l||(P(i.$$.fragment,c),P(s),l=!0)},o(c){N(i.$$.fragment,c),N(s),l=!1},d(c){c&&L(e),ie(i),m[o].d()}}}function ve(){document.body.style.minHeight=`${window.scrollY+window.innerHeight}px`}function dt(t,e,i){let{session:r}=e;const a=document.createElement("link");a.rel="shortut icon",a.href=at,document.head.appendChild(a),Je(()=>{window.addEventListener("scroll",ve),ve()}),Ke(()=>{window.removeEventListener("scroll",ve)});const u=r.rootFrame,n=u==null?void 0:u.time.toLocaleString(void 0,{maximumSignificantDigits:3});let o=u==null?void 0:u.function;return o=="<module>"&&(o=r.program),document.title=`${n}s - ${o} - pyinstrument`,t.$$set=s=>{"session"in s&&i(0,r=s.session)},[r]}class pt extends _e{constructor(e){super(),ge(this,e,dt,ct,K,{session:0})}}class mt{constructor(e,i){b(this,"id");b(this,"rootFrame");b(this,"frames",[]);this.id=e,this.rootFrame=i}addFrame(e){this.frames.push(e)}get exitFrames(){const e=[];for(const i of this.frames){let r=!1;for(const a of i.children)if(a.group!=this){r=!0;break}r&&e.push(i)}return e}get libraries(){const e=[];for(const i of this.frames){const r=/^[^\\/.]*/.exec(i.filePathShort)[0];e.includes(r)||e.push(r)}return e}}class Ae{constructor(e,i=null,r={groups:{}}){b(this,"function");b(this,"filePath");b(this,"filePathShort");b(this,"lineNo");b(this,"time");b(this,"totalTime");b(this,"awaitTime");b(this,"isApplicationCode");b(this,"groupId");b(this,"className");b(this,"parent");b(this,"children");b(this,"group");var a,u;if(this.parent=i,this.function=e.function,this.filePath=e.file_path,this.filePathShort=e.file_path_short,this.lineNo=e.line_no,this.time=e.time,this.totalTime=this.parent?this.parent.totalTime:this.time,this.awaitTime=e.await_time,this.isApplicationCode=e.is_application_code,this.groupId=(a=e.group_id)!=null?a:null,this.className=(u=e.class_name)!=null?u:null,e.group_id){const n=e.group_id;let o=r.groups[n];o||(o=r.groups[n]=new mt(n,this)),o.addFrame(this),this.group=r.groups[n]}else this.group=null;this.children=e.children.map(n=>new Ae(n,this,r))}get identifier(){return`${this.function}:${this.filePath}:${this.lineNo}`}get proportionOfTotal(){return this.time/this.totalTime}}class ht{constructor(e){b(this,"startTime");b(this,"duration");b(this,"sampleCount");b(this,"program");b(this,"cpuTime");b(this,"rootFrame");this.startTime=e.start_time,this.duration=e.duration,this.sampleCount=e.sample_count,this.program=e.program,this.cpuTime=e.cpu_time,this.rootFrame=e.root_frame?new Ae(e.root_frame):null}}return{render(t,e){const i=new ht(e);return new pt({target:t,props:{session:i}})}}}();
